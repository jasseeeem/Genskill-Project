(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{116:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(15),r=n.n(c),i=(n(75),n(69)),l=n(27),o=n(14),d=n.n(o),u=n(20),j=n(12),b=(n(59),n(26)),h=n(66),p=n(34),m=n.n(p),O=n(121),x=n(122),f=n(123),g=n(124),v=n(125),N=n.p+"static/media/guy.14d8ef55.svg",k=n.p+"static/media/bgmobile.0c9e3be9.svg",y=n(127),w=n(58),C=n(37),_=n(4),S=function(e){var t=e.notes,n=e.setUser,s=Object(a.useState)(!1),c=Object(j.a)(s,2),r=c[0],i=c[1],l=Object(a.useState)(!1),o=Object(j.a)(l,2),h=o[0],p=o[1],S=Object(a.useState)(""),T=Object(j.a)(S,2),E=T[0],U=T[1],D=Object(a.useState)(""),P=Object(j.a)(D,2),F=P[0],I=P[1],L=Object(a.useState)(""),A=Object(j.a)(L,2),M=A[0],B=A[1],z=Object(a.useState)(!1),J=Object(j.a)(z,2),H=J[0],Y=J[1],G=Object(a.useState)(!1),q=Object(j.a)(G,2),K=q[0],Q=q[1],R=Object(a.useState)(""),V=Object(j.a)(R,2),W=V[0],X=V[1],Z=function(){i(!1),p(!1),U(""),I(""),B(""),X("")},$=function(){var e=Object(u.a)(d.a.mark((function e(){var a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E){e.next=3;break}return X("Enter Email ID"),e.abrupt("return");case 3:if(M){e.next=6;break}return X("Enter Password"),e.abrupt("return");case 6:return Y(!0),e.next=9,fetch("http://localhost:5000/api/users/login",{headers:{"Content-Type":"application/json"},method:"POST",credentials:"include",body:JSON.stringify({email:E,password:M})});case 9:if(!(a=e.sent).ok){e.next=28;break}return e.next=13,a.json();case 13:return s=e.sent,(new C.a).set("access_token_cookie",s.access_token),e.next=18,fetch("http://localhost:5000/api/users/"+s.id+"/notes",{headers:{"Content-Type":"application/json"},credentials:"include"});case 18:if(!(a=e.sent).ok){e.next=24;break}return e.next=22,a.json();case 22:(a=e.sent).map((function(e){t.push({server_id:e[0],client_id:m()(),user_id:e[1],title:e[2],note:e[3],last_edited:e[4],tags:e[5]})}));case 24:n({id:s.id,name:s.name,email:s.email}),i(!1),e.next=30;break;case 28:X("Invalid Email or Password"),n(null);case 30:Y(!1);case 31:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F){e.next=3;break}return X("Enter Name"),e.abrupt("return");case 3:if(E){e.next=6;break}return X("Enter Email ID"),e.abrupt("return");case 6:if(M){e.next=9;break}return X("Enter Password"),e.abrupt("return");case 9:return Q(!0),e.next=12,fetch("http://localhost:5000/api/users/signup",{headers:{"Content-Type":"application/json"},method:"POST",credentials:"include",body:JSON.stringify({name:F,email:E,password:M})});case 12:if(!(t=e.sent).ok){e.next=23;break}return e.next=16,t.json();case 16:t=e.sent,(new C.a).set("access_token_cookie",t.access_token),n({id:t.id,name:t.name,email:t.email}),p(!1),e.next=25;break;case 23:409===t.status&&X("Email ID already exists"),n(null);case 25:Q(!1);case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"d-flex hero-text",children:[Object(_.jsxs)("div",{className:"p-5 flex-shrink-1 hero-text",children:[Object(_.jsx)("h1",{children:"The No Nonsense Note Taking App ."}),Object(_.jsxs)("div",{children:[Object(_.jsx)(O.a,{className:"btn btn-primary mt-3 me-3",onClick:function(){return i(!0)},children:"Login"}),Object(_.jsx)(O.a,{className:"btn btn-primary mt-3 me-3",onClick:function(){return p(!0)},children:"Sign Up"}),Object(_.jsx)("div",{className:"mt-4",children:Object(_.jsxs)("small",{children:["Developed as part of ",Object(_.jsx)(b.b,{to:"#",children:"Genskill Project"})]})})]})]}),Object(_.jsx)("div",{className:"pt-4 w-100",children:Object(_.jsx)("img",{className:"guy",src:N,alt:"background"})})]}),Object(_.jsx)("img",{className:"bgmobile ps-5",src:k,alt:"background"}),Object(_.jsxs)(y.a,{show:r,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(_.jsx)(y.a.Title,{children:Object(_.jsx)("h2",{className:"text-center pt-3",children:"Log in"})}),Object(_.jsx)(y.a.Body,{children:Object(_.jsx)("div",{className:"pe-5 ps-5",children:Object(_.jsxs)(x.a,{className:"login-form",children:[Object(_.jsxs)(f.a,{children:[Object(_.jsx)(g.a,{className:"mb-1",children:"Email ID"}),Object(_.jsx)(v.a,{className:"mb-3",type:"text",value:E,placeholder:"Email ID",onChange:function(e){X(" "),U(e.target.value)}})]}),Object(_.jsxs)(f.a,{children:[Object(_.jsx)(g.a,{className:"mb-1",children:"Password"}),Object(_.jsx)(v.a,{className:"mb-3",type:"password",value:M,placeholder:"Password",onChange:function(e){X(" "),B(e.target.value)}})]}),Object(_.jsx)(f.a,{children:Object(_.jsx)("span",{className:"mb-1 text-danger",children:W})})]})})}),Object(_.jsxs)(y.a.Footer,{children:[Object(_.jsx)(O.a,{className:"btn btn-success",onClick:Z,children:"Close"}),Object(_.jsx)(O.a,{style:{width:80},className:"btn btn-primary",onClick:$,children:H?Object(_.jsx)(w.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Login"})]})]}),Object(_.jsxs)(y.a,{show:h,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(_.jsx)(y.a.Title,{children:Object(_.jsx)("h2",{className:"text-center pt-3",children:"Sign Up"})}),Object(_.jsx)(y.a.Body,{children:Object(_.jsx)("div",{className:"pe-5 ps-5",children:Object(_.jsxs)(x.a,{className:"login-form",children:[Object(_.jsxs)(f.a,{children:[Object(_.jsx)(g.a,{className:"mb-1",children:"Name"}),Object(_.jsx)(v.a,{className:"mb-3",type:"text",value:F,placeholder:"Name",onChange:function(e){X(" "),I(e.target.value)}})]}),Object(_.jsxs)(f.a,{children:[Object(_.jsx)(g.a,{className:"mb-1",children:"Email ID"}),Object(_.jsx)(v.a,{className:"mb-3",type:"text",value:E,placeholder:"Email ID",onChange:function(e){X(" "),U(e.target.value)}})]}),Object(_.jsxs)(f.a,{children:[Object(_.jsx)(g.a,{className:"mb-1",children:"Password"}),Object(_.jsx)(v.a,{className:"mb-3",type:"password",value:M,placeholder:"Password",onChange:function(e){X(" "),B(e.target.value)}})]}),Object(_.jsx)(f.a,{children:Object(_.jsx)("span",{className:"mb-1 text-danger",children:W})})]})})}),Object(_.jsxs)(y.a.Footer,{children:[Object(_.jsx)(O.a,{className:"btn btn-success",onClick:Z,children:"Close"}),Object(_.jsx)(O.a,{style:{width:80},className:"btn btn-primary",onClick:ee,children:K?Object(_.jsx)(w.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Sign up"})]})]})]})},T=n(63),E=function(e){var t=e.notes,n=e.activeNote,s=e.setActiveNote,c=e.updateNote,r=e.addNote,i=Object(a.useState)(""),l=Object(j.a)(i,2),o=l[0],d=l[1],u=Object(a.useState)([]),b=Object(j.a)(u,2),h=b[0],p=b[1];return Object(a.useEffect)((function(){p(""===o?t:t.filter((function(e){return e.note.includes(o)||e.tags&&e.tags.find((function(e){return e.includes(o)}))})))}),[o,t]),Object(_.jsxs)("div",{className:"bg-light border-right vh-100",id:"sidebar-wrapper",children:[Object(_.jsxs)("div",{className:"input-group pe-4 ps-4 pt-3 pb-3",children:[Object(_.jsx)(v.a,{type:"search",className:"row",placeholder:"Search",value:o,onChange:function(e){return d(e.target.value)}}),Object(_.jsx)(O.a,{className:"btn btn-primary row",children:Object(_.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(_.jsx)(T.a,{size:15})})})]}),h?Object(_.jsx)("div",{className:"list-group list-group-flush overflow-scroll h-100",children:h.map((function(e){return Object(_.jsxs)("div",{onClick:function(){n&&(n.server_id?c(n):r(n)),s(e.client_id)},className:n&&n.client_id===e.client_id?"card list-group-item list-group-item-action flex-column align-items-start active":"card list-group-item list-group-item-action flex-column align-items-start",children:[Object(_.jsx)("div",{className:"d-flex w-100 justify-content-between",children:Object(_.jsx)("h6",{className:"mb-1",children:e.title?e.title.length>20?e.title.substr(0,20)+"...":e.title:"Title"})}),e.tags&&e.tags.length>0&&Object(_.jsx)("div",{className:"w-100 mb-2",children:e.tags.map((function(e){return Object(_.jsxs)(O.a,{className:"btn btn-primary btn-sm me-2 mt-2",onClick:function(){d(e),s([])},children:["#",e]})}))}),Object(_.jsx)("small",{children:e.note?e.note.length>100?e.note.substr(0,100)+"...":e.note:"Body"})]},e.client_id)}))}):Object(_.jsx)("p",{children:"Add a note by clicking the + icon"})]})},U=n(33),D=n(45),P=n(64),F=n(67),I=function(e){var t,n=e.activeNote,s=e.setActiveNote,c=e.onUpdateNote,r=e.updateNote,i=e.addNote,o=e.newNote,d=e.deleteNote,u=Object(a.useState)([]),b=Object(j.a)(u,2),h=(b[0],b[1]),p=Object(a.useState)(!1),m=Object(j.a)(p,2),x=m[0],f=m[1],N=function(e,t){var a,s=new Date,r=s.getUTCFullYear()+"-"+(s.getUTCMonth()+1)+"-"+s.getUTCDate()+" "+s.getUTCHours()+":"+s.getUTCMinutes()+":"+s.getUTCSeconds();c(Object(l.a)(Object(l.a)({},n),{},(a={},Object(U.a)(a,e,t),Object(U.a)(a,"last_edited",r),a)))},k=Object(a.useState)([]),y=Object(j.a)(k,2),w=y[0],C=y[1];return Object(a.useEffect)((function(){f(!1),C([]),h([]);var e=[];n&&n.tags&&n.tags.map((function(t){e.push({value:t,label:t})})),C(e),h(e),f(!0)}),[n]),n?x&&Object(_.jsx)("div",{id:"page-content-wrapper",children:Object(_.jsxs)("div",{className:"container-fluid",children:[Object(_.jsx)(v.a,{type:"text",autoFocus:!0,className:"mt-3",placeholder:"Title",value:n.title,onChange:function(e){return N("title",e.target.value)}}),Object(_.jsx)(g.a,{className:"mt-3 mb-1",children:"HASHTAGS"}),Object(_.jsx)(F.a,{closeMenuOnSelect:!1,isMulti:!0,value:w,placeholder:"Type hashtags without #",onChange:function(e){C(e),e&&N("tags",e.map((function(e){return e.label})))}}),Object(_.jsx)(v.a,{type:"textarea",className:"mt-3",rows:"10",placeholder:"Body",value:n.note,onChange:function(e){return N("note",e.target.value)}}),Object(_.jsxs)("div",{className:"d-flex mt-3  justify-content-between",children:[Object(_.jsx)("small",{children:n.last_edited&&"Last Edited: "+(t=new Date(n.last_edited+" UTC"),("00"+t.getDate()).slice(-2)+" "+t.toLocaleString("default",{month:"short"})+" "+t.getFullYear()+" "+("00"+t.getHours()).slice(-2)+":"+("00"+t.getMinutes()).slice(-2))}),Object(_.jsxs)("div",{children:[Object(_.jsx)(O.a,{className:n.server_id?"btn btn-danger me-3":"btn btn-danger me-3 disabled",onClick:function(){return d()},children:Object(_.jsx)(P.a,{color:"white",size:"20"})}),Object(_.jsx)(O.a,{className:"btn btn-primary",onClick:function(){n.server_id?r(n):i(n),s("")},children:"Save & Close"})]})]})]})}):Object(_.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{width:"100%"},children:Object(_.jsx)(D.a,{size:"150",onClick:o})})},L=n(126),A=n(68),M=(n(89),n(61),function(e){var t=e.user,n=e.handleLogOut;return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("nav",{className:"navbar navbar-expand-sm bg-primary navbar-light",children:Object(_.jsxs)("div",{className:"container-fluid",children:[Object(_.jsx)(b.c,{to:"/",className:"navbar-brand",children:Object(_.jsx)("b",{children:"Notes App"})}),t&&Object(_.jsx)("div",{children:Object(_.jsx)(L.a,{DropdownIndicator:function(){return null},id:"dropdown-basic-button",title:Object(_.jsx)(D.b,{color:"black",size:"20"}),children:Object(_.jsx)(A.a.Item,{onClick:n,children:"Log Out"})})})]})})})});var B=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(null),r=Object(j.a)(c,2),o=r[0],p=r[1],O=Object(a.useState)([]),x=Object(j.a)(O,2),f=x[0],g=x[1],v=Object(a.useState)(""),N=Object(j.a)(v,2),k=N[0],y=N[1],w=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(null),g([]),(new C.a).remove("access_token_cookie");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/api/users/"+o.id+"/notes/"+t.server_id,{headers:{"Content-Type":"application/json"},credentials:"include",method:"PUT",body:JSON.stringify({title:t.title,note:t.note,last_edited:t.last_edited,tags:t.tags})});case 2:e.sent.ok||console.log("Error in updating note");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(e){var t=f.map((function(t){return t.client_id===e.client_id?e:t}));g(t)},D=function(){var e=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/api/users/"+o.id+"/notes/",{headers:{"Content-Type":"application/json"},credentials:"include",method:"POST",body:JSON.stringify({title:t.title,note:t.note,last_edited:t.last_edited,tags:t.tags})});case 2:if(!(n=e.sent).ok){e.next=11;break}return e.next=6,n.json();case 6:n=e.sent,console.log(n),U(Object(l.a)(Object(l.a)({},t),{},{server_id:n.id})),e.next=12;break;case 11:console.log("Error in adding note");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){return f.find((function(e){return e.client_id===k}))},F=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=P(),y(null),g(f.filter((function(e){return e.client_id!==t.client_id}))),t.server_id){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,fetch("http://localhost:5000/api/users/"+o.id+"/notes/"+t.server_id,{headers:{"Content-Type":"application/json"},credentials:"include",method:"DELETE"});case 7:e.sent.ok||console.log("Error while deleting note");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/api/users/verify",{headers:{"Content-Type":"application/json"},credentials:"include"});case 2:if(!(t=e.sent).ok){e.next=21;break}return e.next=6,t.json();case 6:return t=e.sent,p(t),e.next=10,fetch("http://localhost:5000/api/users/"+t.id+"/notes",{headers:{"Content-Type":"application/json"},credentials:"include"});case 10:if(!(t=e.sent).ok){e.next=18;break}return e.next=14,t.json();case 14:(t=e.sent).map((function(e){f.push({server_id:e[0],client_id:m()(),user_id:e[1],title:e[2],note:e[3],last_edited:e[4],tags:e[5]})})),e.next=19;break;case 18:g([]);case 19:e.next=22;break;case 21:p(null);case 22:s(!0);case 23:case"end":return e.stop()}}),e)})))()}),[]),Object(_.jsx)("div",{children:Object(_.jsx)(b.a,{children:n?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(M,{user:o,handleLogOut:w}),o?Object(_.jsxs)("div",{className:"d-flex",id:"wrapper",children:[Object(_.jsx)(E,{notes:f,activeNote:P(),setActiveNote:y,updateNote:T,addNote:D,className:"left"}),Object(_.jsx)(I,{activeNote:P(),setActiveNote:y,onUpdateNote:U,updateNote:T,addNote:D,newNote:function(){var e=new Date,t=e.getUTCFullYear()+"-"+(e.getUTCMonth()+1)+"-"+e.getUTCDate()+" "+e.getUTCHours()+":"+e.getUTCMinutes()+":"+e.getUTCSeconds(),n={client_id:m()(),user_id:o.id,title:"",note:"",last_edited:t};y(n.client_id),g([n].concat(Object(i.a)(f)))},deleteNote:F})]}):Object(_.jsx)(S,{notes:f,setUser:function(e){p(e)}})]}):Object(_.jsx)("div",{className:"container text-center mt-5",children:Object(_.jsx)(h.BeatLoader,{loading:!0})})})})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,128)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))};r.a.render(Object(_.jsx)(s.a.StrictMode,{children:Object(_.jsx)(B,{})}),document.getElementById("root")),z()},59:function(e,t,n){},61:function(e,t,n){},75:function(e,t,n){}},[[116,1,2]]]);
//# sourceMappingURL=main.32699c65.chunk.js.map