(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{114:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(15),r=n.n(c),i=(n(73),n(67)),l=n(27),o=n(14),d=n.n(o),u=n(20),j=n(12),b=(n(57),n(26)),h=n(64),p=n(33),O=n.n(p),x=n(119),m=n(120),f=n(121),g=n(122),v=n(123),N=n.p+"static/media/guy.14d8ef55.svg",y=n.p+"static/media/bgmobile.0c9e3be9.svg",w=n(125),k=n(56),C=n(4),S=function(e){var t=e.notes,n=e.setUser,s=Object(a.useState)(!1),c=Object(j.a)(s,2),r=c[0],i=c[1],l=Object(a.useState)(!1),o=Object(j.a)(l,2),h=o[0],p=o[1],S=Object(a.useState)(""),T=Object(j.a)(S,2),_=T[0],E=T[1],U=Object(a.useState)(""),D=Object(j.a)(U,2),P=D[0],F=D[1],I=Object(a.useState)(""),L=Object(j.a)(I,2),A=L[0],M=L[1],B=Object(a.useState)(!1),z=Object(j.a)(B,2),J=z[0],H=z[1],Y=Object(a.useState)(!1),G=Object(j.a)(Y,2),q=G[0],K=G[1],Q=Object(a.useState)(""),R=Object(j.a)(Q,2),V=R[0],W=R[1],X=function(){i(!1),p(!1),E(""),F(""),M(""),W("")},Z=function(){var e=Object(u.a)(d.a.mark((function e(){var a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_){e.next=3;break}return W("Enter Email ID"),e.abrupt("return");case 3:if(A){e.next=6;break}return W("Enter Password"),e.abrupt("return");case 6:return H(!0),e.next=9,fetch("http://localhost:5000/api/users/login",{headers:{"Content-Type":"application/json"},method:"POST",credentials:"include",body:JSON.stringify({email:_,password:A})});case 9:if(!(a=e.sent).ok){e.next=26;break}return e.next=13,a.json();case 13:return s=e.sent,e.next=16,fetch("http://localhost:5000/api/users/"+s.id+"/notes",{headers:{"Content-Type":"application/json"},credentials:"include"});case 16:if(!(a=e.sent).ok){e.next=22;break}return e.next=20,a.json();case 20:(a=e.sent).map((function(e){t.push({server_id:e[0],client_id:O()(),user_id:e[1],title:e[2],note:e[3],last_edited:e[4],tags:e[5]})}));case 22:n(s),i(!1),e.next=28;break;case 26:401===a.status&&W("Invalid Email or Password"),n(null);case 28:H(!1);case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P){e.next=3;break}return W("Enter Name"),e.abrupt("return");case 3:if(_){e.next=6;break}return W("Enter Email ID"),e.abrupt("return");case 6:if(A){e.next=9;break}return W("Enter Password"),e.abrupt("return");case 9:return K(!0),e.next=12,fetch("http://localhost:5000/api/users/signup",{headers:{"Content-Type":"application/json"},method:"POST",credentials:"include",body:JSON.stringify({name:P,email:_,password:A})});case 12:if(!(t=e.sent).ok){e.next=21;break}return e.next=16,t.json();case 16:t=e.sent,n(t),p(!1),e.next=23;break;case 21:409===t.status&&W("Email ID already exists"),n(null);case 23:K(!1);case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:"d-flex hero-text",children:[Object(C.jsxs)("div",{className:"p-5 flex-shrink-1 hero-text",children:[Object(C.jsx)("h1",{children:"The No Nonsense Note Taking App ."}),Object(C.jsxs)("div",{children:[Object(C.jsx)(x.a,{className:"btn btn-primary mt-3 me-3",onClick:function(){return i(!0)},children:"Login"}),Object(C.jsx)(x.a,{className:"btn btn-primary mt-3 me-3",onClick:function(){return p(!0)},children:"Sign Up"}),Object(C.jsx)("div",{className:"mt-4",children:Object(C.jsxs)("small",{children:["Developed as part of ",Object(C.jsx)(b.b,{to:"#",children:"Genskill Project"})]})})]})]}),Object(C.jsx)("div",{className:"pt-4 w-100",children:Object(C.jsx)("img",{className:"guy",src:N,alt:"background"})})]}),Object(C.jsx)("img",{className:"bgmobile ps-5",src:y,alt:"background"}),Object(C.jsxs)(w.a,{show:r,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(C.jsx)(w.a.Title,{children:Object(C.jsx)("h2",{className:"text-center pt-3",children:"Log in"})}),Object(C.jsx)(w.a.Body,{children:Object(C.jsx)("div",{className:"pe-5 ps-5",children:Object(C.jsxs)(m.a,{className:"login-form",children:[Object(C.jsxs)(f.a,{children:[Object(C.jsx)(g.a,{className:"mb-1",children:"Email ID"}),Object(C.jsx)(v.a,{className:"mb-3",type:"text",value:_,placeholder:"Email ID",onChange:function(e){W(" "),E(e.target.value)}})]}),Object(C.jsxs)(f.a,{children:[Object(C.jsx)(g.a,{className:"mb-1",children:"Password"}),Object(C.jsx)(v.a,{className:"mb-3",type:"password",value:A,placeholder:"Password",onChange:function(e){W(" "),M(e.target.value)}})]}),Object(C.jsx)(f.a,{children:Object(C.jsx)("span",{className:"mb-1 text-danger",children:V})})]})})}),Object(C.jsxs)(w.a.Footer,{children:[Object(C.jsx)(x.a,{className:"btn btn-success",onClick:X,children:"Close"}),Object(C.jsx)(x.a,{style:{width:80},className:"btn btn-primary",onClick:Z,children:J?Object(C.jsx)(k.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Login"})]})]}),Object(C.jsxs)(w.a,{show:h,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(C.jsx)(w.a.Title,{children:Object(C.jsx)("h2",{className:"text-center pt-3",children:"Sign Up"})}),Object(C.jsx)(w.a.Body,{children:Object(C.jsx)("div",{className:"pe-5 ps-5",children:Object(C.jsxs)(m.a,{className:"login-form",children:[Object(C.jsxs)(f.a,{children:[Object(C.jsx)(g.a,{className:"mb-1",children:"Name"}),Object(C.jsx)(v.a,{className:"mb-3",type:"text",value:P,placeholder:"Name",onChange:function(e){W(" "),F(e.target.value)}})]}),Object(C.jsxs)(f.a,{children:[Object(C.jsx)(g.a,{className:"mb-1",children:"Email ID"}),Object(C.jsx)(v.a,{className:"mb-3",type:"text",value:_,placeholder:"Email ID",onChange:function(e){W(" "),E(e.target.value)}})]}),Object(C.jsxs)(f.a,{children:[Object(C.jsx)(g.a,{className:"mb-1",children:"Password"}),Object(C.jsx)(v.a,{className:"mb-3",type:"password",value:A,placeholder:"Password",onChange:function(e){W(" "),M(e.target.value)}})]}),Object(C.jsx)(f.a,{children:Object(C.jsx)("span",{className:"mb-1 text-danger",children:V})})]})})}),Object(C.jsxs)(w.a.Footer,{children:[Object(C.jsx)(x.a,{className:"btn btn-success",onClick:X,children:"Close"}),Object(C.jsx)(x.a,{style:{width:80},className:"btn btn-primary",onClick:$,children:q?Object(C.jsx)(k.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Sign up"})]})]})]})},T=n(61),_=function(e){var t=e.notes,n=e.activeNote,s=e.setActiveNote,c=e.updateNote,r=e.addNote,i=Object(a.useState)(""),l=Object(j.a)(i,2),o=l[0],d=l[1],u=Object(a.useState)([]),b=Object(j.a)(u,2),h=b[0],p=b[1];return Object(a.useEffect)((function(){p(""===o?t:t.filter((function(e){return e.note.includes(o)||e.tags&&e.tags.find((function(e){return e.includes(o)}))})))}),[o,t]),Object(C.jsxs)("div",{className:"bg-light border-right vh-100",id:"sidebar-wrapper",children:[Object(C.jsxs)("div",{className:"input-group pe-4 ps-4 pt-3 pb-3",children:[Object(C.jsx)(v.a,{type:"search",className:"row",placeholder:"Search",value:o,onChange:function(e){return d(e.target.value)}}),Object(C.jsx)(x.a,{className:"btn btn-primary row",children:Object(C.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(C.jsx)(T.a,{size:15})})})]}),h?Object(C.jsx)("div",{className:"list-group list-group-flush overflow-scroll h-100",children:h.map((function(e){return Object(C.jsxs)("div",{onClick:function(){n&&(n.server_id?c(n):r(n)),s(e.client_id)},className:n&&n.client_id===e.client_id?"card list-group-item list-group-item-action flex-column align-items-start active":"card list-group-item list-group-item-action flex-column align-items-start",children:[Object(C.jsx)("div",{className:"d-flex w-100 justify-content-between",children:Object(C.jsx)("h6",{className:"mb-1",children:e.title?e.title.length>20?e.title.substr(0,20)+"...":e.title:"Title"})}),e.tags&&e.tags.length>0&&Object(C.jsx)("div",{className:"w-100 mb-2",children:e.tags.map((function(e){return Object(C.jsxs)(x.a,{className:"btn btn-primary btn-sm me-2 mt-2",onClick:function(){d(e),s([])},children:["#",e]})}))}),Object(C.jsx)("small",{children:e.note?e.note.length>100?e.note.substr(0,100)+"...":e.note:"Body"})]},e.client_id)}))}):Object(C.jsx)("p",{children:"Add a note by clicking the + icon"})]})},E=n(32),U=n(43),D=n(62),P=n(65),F=function(e){var t,n=e.activeNote,s=e.setActiveNote,c=e.onUpdateNote,r=e.updateNote,i=e.addNote,o=e.newNote,d=e.deleteNote,u=Object(a.useState)([]),b=Object(j.a)(u,2),h=(b[0],b[1]),p=Object(a.useState)(!1),O=Object(j.a)(p,2),m=O[0],f=O[1],N=function(e,t){var a,s=new Date,r=s.getUTCFullYear()+"-"+(s.getUTCMonth()+1)+"-"+s.getUTCDate()+" "+s.getUTCHours()+":"+s.getUTCMinutes()+":"+s.getUTCSeconds();c(Object(l.a)(Object(l.a)({},n),{},(a={},Object(E.a)(a,e,t),Object(E.a)(a,"last_edited",r),a)))},y=Object(a.useState)([]),w=Object(j.a)(y,2),k=w[0],S=w[1];return Object(a.useEffect)((function(){f(!1),S([]),h([]);var e=[];n&&n.tags&&n.tags.map((function(t){e.push({value:t,label:t})})),S(e),h(e),f(!0)}),[n]),n?m&&Object(C.jsx)("div",{id:"page-content-wrapper",children:Object(C.jsxs)("div",{className:"container-fluid",children:[Object(C.jsx)(v.a,{type:"text",autoFocus:!0,className:"mt-3",placeholder:"Title",value:n.title,onChange:function(e){return N("title",e.target.value)}}),Object(C.jsx)(g.a,{className:"mt-3 mb-1",children:"HASHTAGS"}),Object(C.jsx)(P.a,{closeMenuOnSelect:!1,isMulti:!0,value:k,placeholder:"Type hashtags without #",onChange:function(e){S(e),e&&N("tags",e.map((function(e){return e.label})))}}),Object(C.jsx)(v.a,{type:"textarea",className:"mt-3",rows:"10",placeholder:"Body",value:n.note,onChange:function(e){return N("note",e.target.value)}}),Object(C.jsxs)("div",{className:"d-flex mt-3  justify-content-between",children:[Object(C.jsx)("small",{children:n.last_edited&&"Last Edited: "+(t=new Date(n.last_edited+" UTC"),("00"+t.getDate()).slice(-2)+" "+t.toLocaleString("default",{month:"short"})+" "+t.getFullYear()+" "+("00"+t.getHours()).slice(-2)+":"+("00"+t.getMinutes()).slice(-2))}),Object(C.jsxs)("div",{children:[Object(C.jsx)(x.a,{className:n.server_id?"btn btn-danger me-3":"btn btn-danger me-3 disabled",onClick:function(){return d()},children:Object(C.jsx)(D.a,{color:"white",size:"20"})}),Object(C.jsx)(x.a,{className:"btn btn-primary",onClick:function(){n.server_id?r(n):i(n),s("")},children:"Save & Close"})]})]})]})}):Object(C.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{width:"100%"},children:Object(C.jsx)(U.a,{size:"150",onClick:o})})},I=n(124),L=n(66),A=(n(87),n(59),function(e){var t=e.user,n=e.handleLogOut;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("nav",{className:"navbar navbar-expand-sm bg-primary navbar-light",children:Object(C.jsxs)("div",{className:"container-fluid",children:[Object(C.jsx)(b.c,{to:"/",className:"navbar-brand",children:Object(C.jsx)("b",{children:"Notes App"})}),t&&Object(C.jsx)("div",{children:Object(C.jsx)(I.a,{DropdownIndicator:function(){return null},id:"dropdown-basic-button",title:Object(C.jsx)(U.b,{color:"black",size:"20"}),children:Object(C.jsx)(L.a.Item,{onClick:n,children:"Log Out"})})})]})})})});var M=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(null),r=Object(j.a)(c,2),o=r[0],p=r[1],x=Object(a.useState)([]),m=Object(j.a)(x,2),f=m[0],g=m[1],v=Object(a.useState)(""),N=Object(j.a)(v,2),y=N[0],w=N[1],k=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(null),e.next=3,fetch("http://localhost:5000/api/users/logout",{headers:{"Content-Type":"application/json"},credentials:"include",method:"POST"});case 3:g([]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/api/users/"+o.id+"/notes/"+t.server_id,{headers:{"Content-Type":"application/json"},credentials:"include",method:"PUT",body:JSON.stringify({title:t.title,note:t.note,last_edited:t.last_edited,tags:t.tags})});case 2:e.sent.ok||console.log("Error in updating note");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(e){var t=f.map((function(t){return t.client_id===e.client_id?e:t}));g(t)},U=function(){var e=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/api/users/"+o.id+"/notes/",{headers:{"Content-Type":"application/json"},credentials:"include",method:"POST",body:JSON.stringify({title:t.title,note:t.note,last_edited:t.last_edited,tags:t.tags})});case 2:if(!(n=e.sent).ok){e.next=11;break}return e.next=6,n.json();case 6:n=e.sent,console.log(n),E(Object(l.a)(Object(l.a)({},t),{},{server_id:n.id})),e.next=12;break;case 11:console.log("Error in adding note");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){return f.find((function(e){return e.client_id===y}))},P=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=D(),w(null),g(f.filter((function(e){return e.client_id!==t.client_id}))),t.server_id){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,fetch("http://localhost:5000/api/users/"+o.id+"/notes/"+t.server_id,{headers:{"Content-Type":"application/json"},credentials:"include",method:"DELETE"});case 7:e.sent.ok||console.log("Error while deleting note");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/api/users/verify",{headers:{"Content-Type":"application/json"},credentials:"include"});case 2:if(!(t=e.sent).ok){e.next=21;break}return e.next=6,t.json();case 6:return t=e.sent,p(t),e.next=10,fetch("http://localhost:5000/api/users/"+t.id+"/notes",{headers:{"Content-Type":"application/json"},credentials:"include"});case 10:if(!(t=e.sent).ok){e.next=18;break}return e.next=14,t.json();case 14:(t=e.sent).map((function(e){f.push({server_id:e[0],client_id:O()(),user_id:e[1],title:e[2],note:e[3],last_edited:e[4],tags:e[5]})})),e.next=19;break;case 18:g([]);case 19:e.next=22;break;case 21:p(null);case 22:s(!0);case 23:case"end":return e.stop()}}),e)})))()}),[]),Object(C.jsx)("div",{children:Object(C.jsx)(b.a,{children:n?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(A,{user:o,handleLogOut:k}),o?Object(C.jsxs)("div",{className:"d-flex",id:"wrapper",children:[Object(C.jsx)(_,{notes:f,activeNote:D(),setActiveNote:w,updateNote:T,addNote:U,className:"left"}),Object(C.jsx)(F,{activeNote:D(),setActiveNote:w,onUpdateNote:E,updateNote:T,addNote:U,newNote:function(){var e=new Date,t=e.getUTCFullYear()+"-"+(e.getUTCMonth()+1)+"-"+e.getUTCDate()+" "+e.getUTCHours()+":"+e.getUTCMinutes()+":"+e.getUTCSeconds(),n={client_id:O()(),user_id:o.id,title:"",note:"",last_edited:t};w(n.client_id),g([n].concat(Object(i.a)(f)))},deleteNote:P})]}):Object(C.jsx)(S,{notes:f,setUser:function(e){p(e)}})]}):Object(C.jsx)("div",{className:"container text-center mt-5",children:Object(C.jsx)(h.BeatLoader,{loading:!0})})})})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,126)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))};r.a.render(Object(C.jsx)(s.a.StrictMode,{children:Object(C.jsx)(M,{})}),document.getElementById("root")),B()},57:function(e,t,n){},59:function(e,t,n){},73:function(e,t,n){}},[[114,1,2]]]);
//# sourceMappingURL=main.209ff7a0.chunk.js.map